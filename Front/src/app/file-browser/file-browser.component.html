<div class="file-browser">
    <mat-card>
        <mat-form-field appearance="fill">
            <mat-label>Map name</mat-label>
            <input matInput (input)="mapNameInputChanged()" type="text" [(ngModel)]="mapNameInput">
          </mat-form-field>
          <mat-form-field appearance="fill" class="custom-mat-form-field">
            <mat-label>Order by</mat-label>
            <mat-select (selectionChange)="mapOrderChanged($event.value)" [(value)]="mapOrderSelected">
              <mat-option *ngFor="let order of mapOrders" [value]="order">
                {{order}}
              </mat-option>
            </mat-select>
          </mat-form-field>
          <mat-form-field appearance="fill" class="custom-mat-form-field">
            <mat-label>Limit</mat-label>
            <mat-select (selectionChange)="limitChanged($event.value)" [(value)]="limitSelected">
              <mat-option *ngFor="let limit of limits" [value]="limit">
                {{limit}}
              </mat-option>
            </mat-select>
          </mat-form-field>
          <mat-checkbox (change)="finishedCheckboxChanged($event.checked)" class="example-margin">Finished</mat-checkbox>
    </mat-card>
</div>
<div class="search-results" [ngClass]="{'loading': loading}">
    <div>
        {{totalResults}} Results
    </div>
    <div>
        <button (click)="loadAll()" mat-raised-button>Load all</button>
    </div>
    <div>
        <button (click)="unLoadAll()" mat-raised-button>Unload all</button>
    </div>
  <div class="mat-elevation-z8">
    <table mat-table [dataSource]="dataSource2">

      <ng-container matColumnDef="position">
        <th mat-header-cell *matHeaderCellDef> Map </th>
        <td mat-cell *matCellDef="let element"> {{element.mapName}} </td>
      </ng-container>

      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef> Player </th>
        <td mat-cell *matCellDef="let element"> {{element.playerName}} </td>
      </ng-container>

      <ng-container matColumnDef="weight">
        <th mat-header-cell *matHeaderCellDef> Time </th>
        <td mat-cell *matCellDef="let element"><a [href]="element.downloadUrl"> {{element.endRaceTimeStr}} </a></td>
      </ng-container>

      <ng-container matColumnDef="symbol">
        <th mat-header-cell *matHeaderCellDef> Date </th>
        <td mat-cell *matCellDef="let element"> {{(element.dateStr)}} </td>
      </ng-container>

      <ng-container matColumnDef="loaded">
        <th mat-header-cell *matHeaderCellDef> Loaded </th>
        <td mat-cell *matCellDef="let element">
          <mat-checkbox (change)="mapCheckboxChanged($event.checked, element)" class="example-margin file-checkbox"></mat-checkbox>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>

    <mat-paginator [pageSizeOptions]="[5, 10, 20, 50, 100]" showFirstLastButtons></mat-paginator>
  </div>
</div>
